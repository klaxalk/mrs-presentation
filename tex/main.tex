\documentclass{beamer}

%%{ header

\mode<presentation> {

  %%{ themes

  % \usetheme{default}
  % \usetheme{annarbor}
  % \usetheme{antibes}
  % \usetheme{bergen}
  % \usetheme{berkeley}
  % \usetheme{berlin}
  % \usetheme{boadilla}
  % \usetheme{cambridgeus}
  % \usetheme{copenhagen}
  % \usetheme{darmstadt}
  % \usetheme{dresden}
  % \usetheme{frankfurt}
  % \usetheme{goettingen}
  % \usetheme{hannover}
  % \usetheme{ilmenau}
  % \usetheme{juanlespins}
  % \usetheme{luebeck}
  % \usetheme{madrid}
  % \usetheme{malmoe}
  % \usetheme{marburg}
  % \usetheme{montpellier}
  % \usetheme{paloalto}
  % \usetheme{pittsburgh}
  % \usetheme{rochester}
  % \usetheme{singapore}
  % \usetheme{szeged}
  % \usetheme{warsaw}
  % \usetheme{dbt}
  \usetheme{ClassyCharcoal}

  %%}

  %%{ color themes

  % \usecolortheme{albatross}
  % \usecolortheme{beaver}
  % \usecolortheme{beetle}
  % \usecolortheme{crane}
  % \usecolortheme{dolphin}
  % \usecolortheme{dove}
  % \usecolortheme{fly}
  % \usecolortheme{lily}
  % \usecolortheme{orchid}
  % \usecolortheme{rose}
  % \usecolortheme{seagull}
  % \usecolortheme{seahorse}
  % \usecolortheme{whale}
  % \usecolortheme{wolverine}

  %%}

  % \setbeamertemplate{footline} % remove the footer line
  \setbeamertemplate{footline}[page number] % replace the footer line with simple numbers

  \setbeamertemplate{navigation symbols}{} % removing the navigation symbols

  \setbeamertemplate{section in toc}[square] % change the style of entries in the tableofcontents
  \setbeamertemplate{subsection in toc}[square] % change the style of entries in the tableofcontents
}

\usepackage{graphicx} % allows including images
\usepackage{booktabs} % allows the use of \toprule, \midrule and \bottomrule in tables
\usepackage{multimedia}
\newcommand{\superfill}{\vskip0pt plus 1filll}

\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{booktabs} % Allows the use of \toprule, \midrule and \bottomrule in tables
\usepackage{isotope}
\usepackage{transparent} % typesetting units
\usepackage{animate}
\usepackage{adjustbox}
\usepackage{subcaption}
\usepackage{float}

% load tikz templates
\include{tikz-templates/tikz-templates}

%%{ custom commands

\newcommand{\unit}[2]{$#1~\ensuremath{\mathrm{#2}}$}
\newcommand{\strong}[1]{\textbf{#1}}
\newcommand{\coord}[1]{\textbf{#1}}
\newcommand{\norm}[1]{\left\lvert#1\right\rvert}
\newcommand{\m}[1]{\ensuremath{\mathbf{#1}}}
\newcommand{\edn}[1]{{\color{blue} \textbf{#1}}}
\newcommand{\todo}[1]{\color{red}{#1}\color{black}}

%%}

\logo{\pgfputat{\pgfxy(0,5)}{\pgfbox[right,base]{\includegraphics[height=0.8cm]{}}}}
\newcommand{\nologo}{\setbeamertemplate{logo}{}}

\usepackage{eso-pic}
\newcommand\AtPagemyUpperLeft[1]{\AtPageLowerLeft{\put(\LenToUnit{0.66\paperwidth},\LenToUnit{0.904\paperheight}){#1}}}
\AddToShipoutPictureFG{
  \AtPagemyUpperLeft{{\includegraphics[height=0.85cm,keepaspectratio]{fig/logo_ctu_fee_mrs_blue.png}}}
}
\newcommand{\AddToShipoutPictureFG}{\setbeamertemplate{logo}{}}

%%}

%%{ TITLE PAGE

\title[]{Unmanned Aerial Platform in the MRS Lab \\ \small{From control theory to application}}

\author[Tomas Baca]{Tomas Baca$^1$, Vojtech Spurny$^1$}
\institute[CTU in Prague]
{
  \\
  \vspace{1em}
  \begin{tiny}
    $^1$Multi-Robot Systems group, Faculty of Electrical Engineering\\
    Czech Technical University in Prague\\
  \end{tiny}
  \medskip
  \textit{tomas.baca@fel.cvut.cz}
}
\date{}

\titlegraphic{\includegraphics[width=5cm]{fig/logo_ctu_fee_mrs_blue.png}}

\begin{document}

\begin{frame}
  \titlepage % Print the title page as the first slide
\end{frame}

% % todo pix its placement on every page
% \logo{%
%   \makebox[1.0\textwidth]{%
%     \hfill%
%     \includegraphics[width=3.0cm, keepaspectratio]{fig/logo_ctu_fee_mrs_blue.png}\vspace{-200pt}
%   }
% }

% \nologo

%%}

%%{ TABLE OF CONTENTS

\begin{frame}
  \frametitle{Outline}
  \tableofcontents
\end{frame}

%%}

%% --------------------------------------------------------------
%% |                   a little bit of history                  |
%% --------------------------------------------------------------

%%{ A little bit of history

\section{A little bit of history}

\begin{frame}
  \frametitle{A little bit of history}

  \only<+>{\begin{figure}
      \caption{$\approx$ 2012, designing custom PCBs for controllers}
      \includegraphics[width=0.85\textwidth]{./fig/pcb1.jpg}
  \end{figure}}

  \only<+>{\begin{figure}
      \caption{$\approx$ 2014, Model Predictive Control on embedded hardware}
      \includegraphics[width=0.85\textwidth]{./fig/pcb2.jpg}
  \end{figure}}

  \only<+>{\begin{figure}
      \caption{$\approx$ 2014, Model Predictive Control on embedded hardware}
      \includegraphics[width=0.85\textwidth]{./fig/tricopter.jpg}
  \end{figure}}

  \only<+>{\begin{block}{Embedded Model Predictive Control}
      \begin{center}
        \movie[externalviewer]{
          \includegraphics[width=0.9\textwidth]{./fig/embedded_mpc_thumbnail.jpg}
        }{../videos/embedded_mpc.mp4}\\
        Video: \url{https://youtu.be/AXI_rkQRBaE}
      \end{center}
  \end{block}}

\end{frame}

\begin{frame}
  \frametitle{A little bit of history}

  \begin{itemize}
    \onslide<1->{\item Custom and purpose-built hardware}
    \onslide<2->{\item Embedded software}
    \onslide<3->{\item Results: \\ Embedded MPC \cite{mmar_mpc}\\ Multi-robot publications: \cite{mmar_spurny}, \cite{auro}}
    \onslide<4->{\item ...}
    \onslide<5->{\item Not Scalable! Bottlenecks everywhere:}
    \onslide<6->{\item Embedded programming \emph{sucks}, simulations are difficult, system is hard to maintain, connecting sensors and peripheries is limited...}
    \onslide<7->{\item ... 2015}
\end{itemize}

\end{frame}

%%}

%%{ Nowadays
\begin{frame}
  \frametitle{Nowadays}

  \begin{figure}
    \caption{A typical pipeline structure revolves around a Linux computer.}
    \includegraphics[width=1.0\textwidth]{./fig/components.png}
  \end{figure}

\end{frame}
%%}

%% --------------------------------------------------------------
%% |                    UAV control pipeline                    |
%% --------------------------------------------------------------

\section{UAV Control pipeline}
\subsection{control theory point of view}

%%{ UAV control pipepline
\begin{frame}
  \frametitle{Control -- theory POW}

  \centering
  \begin{figure}
    \begin{adjustbox}{max totalsize={1.0\textwidth}{.85\textheight}, center}
      \input{fig/pipeline_diagram.tex}
    \end{adjustbox}
  \end{figure}

  \begin{block}{\cite{iros}}
    Model Predictive Trajectory Tracking and Collision Avoidance for Reliable Outdoor Deployment of Unmanned Aerial Vehicles, IROS 2018.
  \end{block}

\end{frame}
%%}

\subsection{implementation point of view}

%%{ Control pipeline implementation
\begin{frame}
  \frametitle{Control -- implementation POW}

  \centering
  \begin{figure}
    \begin{adjustbox}{max totalsize={1.0\textwidth}{.85\textheight}, center}
      \input{fig/implementation_diagram.tex}
    \end{adjustbox}
  \end{figure}

\end{frame}
%%}

%% --------------------------------------------------------------
%% |                      Linux environment                     |
%% --------------------------------------------------------------

\section{Linux technologies}
\subsection{terminal, shell, TMUX, Vim, ROS}

%%{ Linux terminal & shell
\begin{frame}
  \frametitle{Linux terminal \& shell}

  \begin{figure}
    \caption{A Linux terminal}
    \includegraphics[width=1.0\textwidth]{./fig/terminal.png}
  \end{figure}

\end{frame}
%%}

%%{ Tmux & Terminal multiplexer
\begin{frame}

  \frametitle{Tmux -- Terminal multiplexer}

  \begin{figure}
    \caption{A Linux terminal with Tmux}
    \includegraphics[width=1.0\textwidth]{./fig/tmux.png}
  \end{figure}

\end{frame}
%%}

%%{ Vim -- modal, modular, modern
\begin{frame}
  \frametitle{Vim -- modal, modular, modern}

  \begin{figure}
    \caption{Vim in Tmux in Terminal}
    \includegraphics[width=1.0\textwidth]{./fig/vim.png}
  \end{figure}

\end{frame}
%%}

%%{ ROS -- Robot Operating System
\begin{frame}
  \frametitle{ROS -- Robot Operating System}

  \begin{itemize}
    \item Middleware allowing communication between programs
    \item Makes the transition from \emph{Matlab} to reality bearable
    \item Supported by sensor manufacturers (lots of ROS drivers)
    \item Integration through the terminal (important, works over ssh)
    \item Handles the difficult stuff nobody that wants to program: time management, logging, recording onboard data, common visualization, parameter loading, static and dynamic transformations, etc.
    \item integrates to most robotic simulators: Gazebo, Vrap
  \end{itemize}

\end{frame}
%%}

%% | ---------------------- The simulator --------------------- |

\section{MRS simulation stack}

\subsection{Gazebo/ROS, spawn}

%%{ Gazebo/ROS simulator
\begin{frame}
  \frametitle{Gazebo/ROS simulator}



\end{frame}
%%}

%%{ Spawning drones to the simulator
\begin{frame}
  \frametitle{Spawning drones to the simulator}



\end{frame}
%%}

%% | ------------------ Seminars assignments ------------------ |

\section{Summer School seminar}
\subsection{the MTSPN problem}
\subsection{running the planner, w/ and w/o ROS}

\subsection{running the simulation}

%% --------------------------------------------------------------
%% |                          resources                         |
%% --------------------------------------------------------------

%%{ MRS wiki
\begin{frame}
  \frametitle{MRS wiki}

  \begin{figure}
    \caption*{\url{https://mrs.felk.cvut.cz/gitlab/uav/uav_core/wikis/home}}
    \includegraphics[width=0.9\textwidth]{./fig/wiki.png}
  \end{figure}

\end{frame}
%%}

%%{ MRS Cheat Sheet
\begin{frame}
  \frametitle{MRS Cheat Sheet}

  \begin{figure}
    \caption*{\url{https://github.com/klaxalk/mrs-cheatsheet}}
    \includegraphics[width=0.9\textwidth]{./fig/mrs_cheatsheet.png}
  \end{figure}

\end{frame}
%%}

%%{ Links
\begin{frame}
  \frametitle{Links}

  \begin{itemize}
    \item Linux setup -- \\\url{https://github.com/klaxalk/linux-setup}
    \item MRS cheat sheet -- \\\url{https://github.com/klaxalk/mrs-cheatsheet}
    \item This presentation -- \\\url{https://github.com/klaxalk/mrs-presentation}
  \end{itemize}

\end{frame}
%%}

%%{ REFERENCES

\begin{frame}
  \frametitle{References}
  \tiny{
    \begin{thebibliography}{99}

      \bibitem[Baca et al., 2016]{mmar_mpc} Baca, T and Loianno, G and Saska, M
      \newblock Embedded Model Predictive Control of Unmanned Micro Aerial Vehicles
      \newblock 2016 IEEE International Conference on Methods and Models in Automation

      \bibitem[Spurny et al., 2016]{mmar_spurny} Spurny, V and Baca, T and Saska, M
      \newblock Complex manoeuvres of heterogeneous MAV-UGV formations using a model predictive control
      \newblock 2016 IEEE International Conference on Methods and Models in Automation

      \bibitem[Saska et al, 2016]{auro} Saska, M and Baca, T and Thomas, J and Chudoba, J and Preucil, L and Krajnik, T and Faigl, J and Loianno, G and Kumar, V
      \newblock System for deployment of groups of unmanned micro aerial vehicles in GPS-denied environments using onboard visual relative localization
      \newblock Autonomous Robots, 2016

      \bibitem[Baca et al., 2018]{iros} Baca, T and Hert, D and Loianno, G and Saska, M and Kumar, V
      \newblock Model Predictive Trajectory Tracking and Collision Avoidance for Reliable Outdoor Deployment of Unmanned Aerial Vehicles
      \newblock 2018 IEEE/RSJ International Conference on Intelligent Robots and Systems

  \end{thebibliography}
}
\end{frame}

%%}

  \end{document}
